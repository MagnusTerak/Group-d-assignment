(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=o(i);fetch(i.href,s)}})();const C=async t=>{try{const e=await fetch(t);if(!e.ok)throw new Error(`Failed to fetch data from ${t}. HTTP status: ${e.status}`);return await e.json()}catch(e){return console.error(`Error fetching data from ${t}:`,e),null}};let g="sv";const I=t=>{g=g==="sv"?"en":"sv",t.textContent=g==="sv"?"In English":"Till Svenska"},x=(t,e)=>{const o=document.createElement("button");return o.id="language-toggle-btn",o.textContent=t==="sv"?"In English":"Till Svenska",o.addEventListener("click",()=>{I(o),e&&typeof e=="function"&&e(g)}),o};async function D(){const t=await C("../../database/footer.json");if(!t){console.error("Invalid data not found");return}const e=document.createElement("footer"),o=document.createElement("div");o.className="footer__screen";const n=document.createElement("img");n.src="images/filmduk.png",n.alt="Illustration of a screen",o.appendChild(n),e.appendChild(o);const i=document.createElement("div");i.className="footer__seats";const s=document.createElement("img");s.src="images/stolar.png",s.alt="Illustration of a movie theater",i.appendChild(s),e.appendChild(i);const c=document.createElement("div");c.className="footer__links",e.appendChild(c),t.sections.forEach(a=>{const l=document.createElement("ul");l.className="footer__link__list";const r=document.createElement("h3");r.className="footer__link-title",r.textContent=a.title,l.appendChild(r),a.links.forEach(p=>{const d=document.createElement("li");d.className="footer__link__item";const _=document.createElement("a");_.href=p.url,_.textContent=p.text,_.className="footer__link__link",d.appendChild(_),l.appendChild(d)}),c.appendChild(l)}),document.body.appendChild(e)}D();const y=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting?(e.target.classList.add("in-view"),e.target.classList.remove("not-in-view")):(e.target.classList.remove("in-view"),e.target.classList.add("not-in-view"))})},{rootMargin:"0px",threshold:[0,.1,1]}),M=document.querySelector(".about-us"),f=document.querySelector("#about-us-container"),h=async t=>{f.innerHTML="";const e=await C("/database/aboutUs.json");if(!e||!e.aboutUs||!e.aboutUs[t]){console.error("Invalid data or language not found");return}const o={introduction:e.aboutUs[t].introduction,origin:e.aboutUs[t].origin,vision:e.aboutUs[t].vision};Object.entries(o).forEach(([n,i])=>{const s=document.createElement("div");s.className=`about-us__container about-us__container--${n}`;const c=document.createElement("section");c.className=`about-us__section about-us__section__${n} `;const a=document.createElement("div");a.className=`about-us__section__text-container about-us__section__text-container--${n}`;const l=document.createElement("h2");l.className=`about-us__section__${n}--title`,l.textContent=i.title.charAt(0).toUpperCase()+i.title.slice(1);const r=document.createElement("p");r.classList=`about-us__section__${n}--text`,r.textContent=i.content;const p=document.createElement("div");p.classList=`about-us__section__${n}__image-container about-us__imgContainer`;const d=document.createElement("img");d.className=`about-us__section__${n}__image-container--image about-us__imgContainer__image`,d.src=i.src,d.alt=i.alt,p.appendChild(d),a.appendChild(l),a.appendChild(r),c.appendChild(a),c.appendChild(p),s.appendChild(c),f.appendChild(s),document.querySelectorAll("h2, p, img").forEach(k=>{y.observe(k)})})},w=()=>{const t=x(g,e=>{h(e)});M.prepend(t),h(g)};document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded and parsed"),w()});const E=document.querySelector(".ongoingMovies");let m=[],v=[];const N=async()=>{await T()};document.addEventListener("DOMContentLoaded",()=>{N().then(t=>O())});let b=[{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Sune i fjällen"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Sune i Norge"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Sune i fjällen"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Sune i Norge"}];function O(){j(),S(),H();for(let t=0;t<b.length;t++){const e=b[t];P({src:e.src,movieLabel:e.movieLabel})}}function P(t){const e=document.createElement("div");e.classList.add("ongoingMovies__card"),E.appendChild(e);const o=document.createElement("img");o.src=t.src,o.classList.add("ongoingMovies__card__image"),e.appendChild(o);const n=document.createElement("h3");n.innerHTML=t.movieLabel,n.classList.add("ongoingMovies__card__label"),e.appendChild(n)}function j(){for(let t=0;t<u.movies.length;t++){let e=!1;const o=u.movies[t];for(let n=0;n<m.length;n++)m[n]==o.genre&&(e=!0);e||m.push(o.genre)}}function S(){for(let t=0;t<u.movies.length;t++){let e=!1;const o=u.movies[t];for(let n=0;n<v.length;n++)v[n]==o.decade&&(e=!0);e||v.push(o.decade)}}function H(){const t=document.createElement("div");t.classList.add("ongoingMovies__filterDiv"),E.appendChild(t);const e=document.createElement("div");e.classList.add("ongoingMovies__filterDiv__selectDiv"),t.appendChild(e);const o=document.createElement("select");o.classList.add("ongoingMovies__filterDiv__selectDiv__select"),e.appendChild(o);const n=new Option("Välj genre (Ingen vald)");n.selected=!0,n.classList.add("ongoingMovies__filterDiv__selectDiv__select__option"),o.add(n);for(let a=0;a<m.length;a++){const l=m[a];let r=new Option(l,"genre_"+l);r.classList.add("ongoingMovies__filterDiv__selectDiv__select__option"),o.add(r)}let i=document.createElement("input");i.classList.add("ongoingMovies__filterDiv__searchfield"),i.placeholder="Sök",t.appendChild(i);let s=document.createElement("div");s.classList.add("ongoingMovies__filterDiv__genreChipDiv"),t.appendChild(s);for(let a=0;a<m.length;a++){const l=m[a];let r=document.createElement("button");r.classList.add("ongoingMovies__filterDiv__genreChipDiv__chip"),r.textContent=l,s.appendChild(r)}for(let a=0;a<v.length;a++){const l=v[a];let r=document.createElement("button");r.classList.add("ongoingMovies__filterDiv__genreChipDiv__chip"),r.textContent=l+"-tal",s.appendChild(r)}let c=document.createElement("button");c.classList.add("ongoingMovies__filterDiv__genreChipDiv__chip"),c.textContent="Svartvit",s.appendChild(c)}const U=document.querySelector(".upcomingMovies"),L=[{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Terminator"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Terminator 2 - Domedagen"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Robocop"},{src:"https://media.istockphoto.com/id/1147544807/sv/vektor/ingen-miniatyr-bild-vektor-grafik.jpg?s=612x612&w=0&k=20&c=RWp5ECPYkIEO8J3zxyvsc4Lrf68NiLDybtPHix_QI1I=",movieLabel:"Terminator Salvation"}];for(let t=0;t<L.length;t++){const e=L[t];$({src:e.src,movieLabel:e.movieLabel})}function $(t){const e=document.createElement("div");e.classList.add("upcomingMovies__card"),U.appendChild(e);const o=document.createElement("img");o.src=t.src,o.classList.add("upcomingMovies__card-image"),e.appendChild(o);const n=document.createElement("h3");n.innerHTML=t.movieLabel,n.classList.add("upcomingMovies__card-label"),e.appendChild(n)}let u=[];const z=async()=>{try{u=await(await fetch("../../public/database/movies.json")).json(),console.log(u)}catch(t){return console.error("Error fetching data:",t),null}},T=async()=>{await z(),console.log("Data loaded in main.js:",u)};
